{% extends "main.html" %}
{% block text %}
{{ super() }}
<h1>AlmaLinux ISOs links</h1>
You can find the list of
{% if mirror_list %}
ISOs links for architecture/version <code>{{ arch }}/{{ version }}</code> for all of mirrors.
{% else %}
available AlmaLinux architectures and versions below.
{% endif %}
<br>
<br>
Also you can use a BitTorrent file for downloading ISOs. It might be faster than direct downloading from the mirrors.<br>
<br>
A .torrent file can be found on all mirrors in the folder with ISO files.
<br>
<br>
{% endblock %}
{% block table %}
{{ super() }}
{% if nearest_mirrors %}
<h3>The following mirrors are nearest to you:</h3>
<ul>
{% for mirror_info in nearest_mirrors %}
    <li><a href="{{ mirror_info.isos_link }}">{{ mirror_info.name }}</a><br></li>
{% endfor %}
</ul>
<h3>You can also choose from full list of mirrors:</h3>
<br>
{% endif %}
<table class="table table-striped table-bordered table-responsive-md">
    <thead>
    {% if mirror_list %}
        <th>Country</th>
        <th>Links</th>
    {% endif %}
    {% if isos_list %}
        <th>Architecture</th>
        <th>Versions</th>
    {% endif %}
    </thead>
    <tbody>
    {% if mirror_list %}
    {% for country, mirrors_info in mirror_list.items() %}
    <tr>
        <td>{{ country }}</td>
        <td>
            {% for mirror_info in mirrors_info %}
            <a href="{{ mirror_info.isos_link }}">{{ mirror_info.name }}</a><br>
            {% endfor %}
        </td>
    </tr>
    {% endfor %}
    {% endif %}
    {% if isos_list %}
    {% for arch, versions in isos_list.items() %}
    <tr>
        <td>{{ arch }}</td>
        <td>
            {% for version in versions %}
            <a href="{{ url_for('.isos', arch=arch, version=version) }}">{{ version }}</a></br>
            {% endfor %}
        </td>
    </tr>
    {% endfor %}
    {% endif %}
    </tbody>
</table>
{% endblock %}
